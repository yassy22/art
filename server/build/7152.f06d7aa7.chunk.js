"use strict";(self.webpackChunkserver=self.webpackChunkserver||[]).push([[7152],{77152:(ir,ee,b)=>{b.r(ee),b.d(ee,{ColorPickerInput:()=>ur});var M=b(92132),v=b(21272),be=b(76325),xe=b(12493),Ce=b(7153),G=b(83997),Ee=b(8361),re=b(30893),Me=b(11341),He=b(94061),ye=b(74447),Ne=b(16918),je=b(10229),we=b(9005);function C(){return(C=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(t[c]=u[c])}return t}).apply(this,arguments)}function T(t,l){if(t==null)return{};var u,c,s={},i=Object.keys(t);for(c=0;c<i.length;c++)l.indexOf(u=i[c])>=0||(s[u]=t[u]);return s}function A(t){var l=(0,v.useRef)(t),u=(0,v.useRef)(function(c){l.current&&l.current(c)});return l.current=t,u.current}var B=function(t,l,u){return l===void 0&&(l=0),u===void 0&&(u=1),t>u?u:t<l?l:t},$=function(t){return"touches"in t},Q=function(t){return t&&t.ownerDocument.defaultView||self},te=function(t,l,u){var c=t.getBoundingClientRect(),s=$(l)?function(i,f){for(var d=0;d<i.length;d++)if(i[d].identifier===f)return i[d];return i[0]}(l.touches,u):l;return{left:B((s.pageX-(c.left+Q(t).pageXOffset))/c.width),top:B((s.pageY-(c.top+Q(t).pageYOffset))/c.height)}},oe=function(t){!$(t)&&t.preventDefault()},U=v.memo(function(t){var l=t.onMove,u=t.onKey,c=T(t,["onMove","onKey"]),s=(0,v.useRef)(null),i=A(l),f=A(u),d=(0,v.useRef)(null),g=(0,v.useRef)(!1),h=(0,v.useMemo)(function(){var P=function(H){oe(H),($(H)?H.touches.length>0:H.buttons>0)&&s.current?i(te(s.current,H,d.current)):w(!1)},j=function(){return w(!1)};function w(H){var p=g.current,E=Q(s.current),L=H?E.addEventListener:E.removeEventListener;L(p?"touchmove":"mousemove",P),L(p?"touchend":"mouseup",j)}return[function(H){var p=H.nativeEvent,E=s.current;if(E&&(oe(p),!function(cr,sr){return sr&&!$(cr)}(p,g.current)&&E)){if($(p)){g.current=!0;var L=p.changedTouches||[];L.length&&(d.current=L[0].identifier)}E.focus(),i(te(E,p,d.current)),w(!0)}},function(H){var p=H.which||H.keyCode;p<37||p>40||(H.preventDefault(),f({left:p===39?.05:p===37?-.05:0,top:p===40?.05:p===38?-.05:0}))},w]},[f,i]),x=h[0],y=h[1],N=h[2];return(0,v.useEffect)(function(){return N},[N]),v.createElement("div",C({},c,{onTouchStart:x,onMouseDown:x,className:"react-colorful__interactive",ref:s,onKeyDown:y,tabIndex:0,role:"slider"}))}),D=function(t){return t.filter(Boolean).join(" ")},W=function(t){var l=t.color,u=t.left,c=t.top,s=c===void 0?.5:c,i=D(["react-colorful__pointer",t.className]);return v.createElement("div",{className:i,style:{top:100*s+"%",left:100*u+"%"}},v.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:l}}))},m=function(t,l,u){return l===void 0&&(l=0),u===void 0&&(u=Math.pow(10,l)),Math.round(u*t)/u},ke={grad:.9,turn:360,rad:360/(2*Math.PI)},ne=function(t){return J(Z(t))},Z=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?m(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?m(parseInt(t.substring(6,8),16)/255,2):1}},ae=function(t,l){return l===void 0&&(l="deg"),Number(t)*(ke[l]||1)},le=function(t){var l=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return l?q({h:ae(l[1],l[2]),s:Number(l[3]),l:Number(l[4]),a:l[5]===void 0?1:Number(l[5])/(l[6]?100:1)}):{h:0,s:0,v:0,a:1}},Ie=le,q=function(t){var l=t.s,u=t.l;return{h:t.h,s:(l*=(u<50?u:100-u)/100)>0?2*l/(u+l)*100:0,v:u+l,a:t.a}},ue=function(t){return Be(F(t))},S=function(t){var l=t.s,u=t.v,c=t.a,s=(200-l)*u/100;return{h:m(t.h),s:m(s>0&&s<200?l*u/100/(s<=100?s:200-s)*100:0),l:m(s/2),a:m(c,2)}},K=function(t){var l=S(t);return"hsl("+l.h+", "+l.s+"%, "+l.l+"%)"},X=function(t){var l=S(t);return"hsla("+l.h+", "+l.s+"%, "+l.l+"%, "+l.a+")"},F=function(t){var l=t.h,u=t.s,c=t.v,s=t.a;l=l/360*6,u/=100,c/=100;var i=Math.floor(l),f=c*(1-u),d=c*(1-(l-i)*u),g=c*(1-(1-l+i)*u),h=i%6;return{r:m(255*[c,d,f,f,g,c][h]),g:m(255*[g,c,c,d,f,f][h]),b:m(255*[f,f,g,c,c,d][h]),a:m(s,2)}},ce=function(t){var l=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return l?z({h:ae(l[1],l[2]),s:Number(l[3]),v:Number(l[4]),a:l[5]===void 0?1:Number(l[5])/(l[6]?100:1)}):{h:0,s:0,v:0,a:1}},Re=ce,se=function(t){var l=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return l?J({r:Number(l[1])/(l[2]?100/255:1),g:Number(l[3])/(l[4]?100/255:1),b:Number(l[5])/(l[6]?100/255:1),a:l[7]===void 0?1:Number(l[7])/(l[8]?100:1)}):{h:0,s:0,v:0,a:1}},Pe=se,Y=function(t){var l=t.toString(16);return l.length<2?"0"+l:l},Be=function(t){var l=t.r,u=t.g,c=t.b,s=t.a,i=s<1?Y(m(255*s)):"";return"#"+Y(l)+Y(u)+Y(c)+i},J=function(t){var l=t.r,u=t.g,c=t.b,s=t.a,i=Math.max(l,u,c),f=i-Math.min(l,u,c),d=f?i===l?(u-c)/f:i===u?2+(c-l)/f:4+(l-u)/f:0;return{h:m(60*(d<0?d+6:d)),s:m(i?f/i*100:0),v:m(i/255*100),a:s}},z=function(t){return{h:m(t.h),s:m(t.s),v:m(t.v),a:m(t.a,2)}},ie=v.memo(function(t){var l=t.hue,u=t.onChange,c=D(["react-colorful__hue",t.className]);return v.createElement("div",{className:c},v.createElement(U,{onMove:function(s){u({h:360*s.left})},onKey:function(s){u({h:B(l+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":m(l),"aria-valuemax":"360","aria-valuemin":"0"},v.createElement(W,{className:"react-colorful__hue-pointer",left:l/360,color:K({h:l,s:100,v:100,a:1})})))}),fe=v.memo(function(t){var l=t.hsva,u=t.onChange,c={backgroundColor:K({h:l.h,s:100,v:100,a:1})};return v.createElement("div",{className:"react-colorful__saturation",style:c},v.createElement(U,{onMove:function(s){u({s:100*s.left,v:100-100*s.top})},onKey:function(s){u({s:B(l.s+100*s.left,0,100),v:B(l.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+m(l.s)+"%, Brightness "+m(l.v)+"%"},v.createElement(W,{className:"react-colorful__saturation-pointer",top:1-l.v/100,left:l.s/100,color:K(l)})))}),k=function(t,l){if(t===l)return!0;for(var u in t)if(t[u]!==l[u])return!1;return!0},O=function(t,l){return t.replace(/\s/g,"")===l.replace(/\s/g,"")},de=function(t,l){return t.toLowerCase()===l.toLowerCase()||k(Z(t),Z(l))};function ve(t,l,u){var c=A(u),s=(0,v.useState)(function(){return t.toHsva(l)}),i=s[0],f=s[1],d=(0,v.useRef)({color:l,hsva:i});(0,v.useEffect)(function(){if(!t.equal(l,d.current.color)){var h=t.toHsva(l);d.current={hsva:h,color:l},f(h)}},[l,t]),(0,v.useEffect)(function(){var h;k(i,d.current.hsva)||t.equal(h=t.fromHsva(i),d.current.color)||(d.current={hsva:i,color:h},c(h))},[i,t,c]);var g=(0,v.useCallback)(function(h){f(function(x){return Object.assign({},x,h)})},[]);return[i,g]}var he,Oe=typeof window<"u"?v.useLayoutEffect:v.useEffect,Te=function(){return he||b.nc},fr=function(t){he=t},ge=new Map,me=function(t){Oe(function(){var l=t.current?t.current.ownerDocument:document;if(l!==void 0&&!ge.has(l)){var u=l.createElement("style");u.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,ge.set(l,u);var c=Te();c&&u.setAttribute("nonce",c),l.head.appendChild(u)}},[])},I=function(t){var l=t.className,u=t.colorModel,c=t.color,s=c===void 0?u.defaultColor:c,i=t.onChange,f=T(t,["className","colorModel","color","onChange"]),d=(0,v.useRef)(null);me(d);var g=ve(u,s,i),h=g[0],x=g[1],y=D(["react-colorful",l]);return v.createElement("div",C({},f,{ref:d,className:y}),v.createElement(fe,{hsva:h,onChange:x}),v.createElement(ie,{hue:h.h,onChange:x,className:"react-colorful__last-control"}))},Ae={defaultColor:"000",toHsva:ne,fromHsva:function(t){return ue({h:t.h,s:t.s,v:t.v,a:1})},equal:de},$e=function(t){return v.createElement(I,C({},t,{colorModel:Ae}))},De=function(t){var l=t.className,u=t.hsva,c=t.onChange,s={backgroundImage:"linear-gradient(90deg, "+X(Object.assign({},u,{a:0}))+", "+X(Object.assign({},u,{a:1}))+")"},i=D(["react-colorful__alpha",l]),f=m(100*u.a);return e.createElement("div",{className:i},e.createElement("div",{className:"react-colorful__alpha-gradient",style:s}),e.createElement(U,{onMove:function(d){c({a:d.left})},onKey:function(d){c({a:B(u.a+d.left)})},"aria-label":"Alpha","aria-valuetext":f+"%","aria-valuenow":f,"aria-valuemin":"0","aria-valuemax":"100"},e.createElement(W,{className:"react-colorful__alpha-pointer",left:u.a,color:X(u)})))},R=function(t){var l=t.className,u=t.colorModel,c=t.color,s=c===void 0?u.defaultColor:c,i=t.onChange,f=T(t,["className","colorModel","color","onChange"]),d=r(null);me(d);var g=ve(u,s,i),h=g[0],x=g[1],y=D(["react-colorful",l]);return e.createElement("div",C({},f,{ref:d,className:y}),e.createElement(fe,{hsva:h,onChange:x}),e.createElement(ie,{hue:h.h,onChange:x}),e.createElement(De,{hsva:h,onChange:x,className:"react-colorful__last-control"}))},Fe={defaultColor:"0001",toHsva:ne,fromHsva:ue,equal:de},dr=function(t){return e.createElement(R,C({},t,{colorModel:Fe}))},ze={defaultColor:{h:0,s:0,l:0,a:1},toHsva:q,fromHsva:S,equal:k},vr=function(t){return e.createElement(R,C({},t,{colorModel:ze}))},Le={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:le,fromHsva:X,equal:O},hr=function(t){return e.createElement(R,C({},t,{colorModel:Le}))},Se={defaultColor:{h:0,s:0,l:0},toHsva:function(t){return q({h:t.h,s:t.s,l:t.l,a:1})},fromHsva:function(t){return{h:(l=S(t)).h,s:l.s,l:l.l};var l},equal:k},gr=function(t){return e.createElement(I,C({},t,{colorModel:Se}))},Ke={defaultColor:"hsl(0, 0%, 0%)",toHsva:Ie,fromHsva:K,equal:O},mr=function(t){return e.createElement(I,C({},t,{colorModel:Ke}))},Xe={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(t){return t},fromHsva:z,equal:k},pr=function(t){return e.createElement(R,C({},t,{colorModel:Xe}))},Ye={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:ce,fromHsva:function(t){var l=z(t);return"hsva("+l.h+", "+l.s+"%, "+l.v+"%, "+l.a+")"},equal:O},br=function(t){return e.createElement(R,C({},t,{colorModel:Ye}))},Je={defaultColor:{h:0,s:0,v:0},toHsva:function(t){return{h:t.h,s:t.s,v:t.v,a:1}},fromHsva:function(t){var l=z(t);return{h:l.h,s:l.s,v:l.v}},equal:k},xr=function(t){return e.createElement(I,C({},t,{colorModel:Je}))},Ve={defaultColor:"hsv(0, 0%, 0%)",toHsva:Re,fromHsva:function(t){var l=z(t);return"hsv("+l.h+", "+l.s+"%, "+l.v+"%)"},equal:O},Cr=function(t){return e.createElement(I,C({},t,{colorModel:Ve}))},Ge={defaultColor:{r:0,g:0,b:0,a:1},toHsva:J,fromHsva:F,equal:k},Er=function(t){return e.createElement(R,C({},t,{colorModel:Ge}))},Qe={defaultColor:"rgba(0, 0, 0, 1)",toHsva:se,fromHsva:function(t){var l=F(t);return"rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")"},equal:O},Mr=function(t){return e.createElement(R,C({},t,{colorModel:Qe}))},Ue={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return J({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(l=F(t)).r,g:l.g,b:l.b};var l},equal:k},Hr=function(t){return e.createElement(I,C({},t,{colorModel:Ue}))},We={defaultColor:"rgb(0, 0, 0)",toHsva:Pe,fromHsva:function(t){var l=F(t);return"rgb("+l.r+", "+l.g+", "+l.b+")"},equal:O},yr=function(t){return e.createElement(I,C({},t,{colorModel:We}))},Ze=/^#?([0-9A-F]{3,8})$/i,qe=function(t){var l=t.color,u=l===void 0?"":l,c=t.onChange,s=t.onBlur,i=t.escape,f=t.validate,d=t.format,g=t.process,h=T(t,["color","onChange","onBlur","escape","validate","format","process"]),x=o(function(){return i(u)}),y=x[0],N=x[1],P=A(c),j=A(s),w=a(function(p){var E=i(p.target.value);N(E),f(E)&&P(g?g(E):E)},[i,g,f,P]),H=a(function(p){f(p.target.value)||N(i(u)),j(p)},[u,i,f,j]);return n(function(){N(i(u))},[u,i]),e.createElement("input",C({},h,{value:d?d(y):y,spellCheck:"false",onChange:w,onBlur:H}))},pe=function(t){return"#"+t},Nr=function(t){var l=t.prefixed,u=t.alpha,c=T(t,["prefixed","alpha"]),s=a(function(f){return f.replace(/([^0-9A-F]+)/gi,"").substring(0,u?8:6)},[u]),i=a(function(f){return function(d,g){var h=Ze.exec(d),x=h?h[1].length:0;return x===3||x===6||!!g&&x===4||!!g&&x===8}(f,u)},[u]);return e.createElement(qe,C({},c,{escape:s,format:l?pe:void 0,process:pe,validate:i}))},_e=b(54894),V=b(63891),_=b(57375),jr=b(55506);function er(t,l){typeof t=="function"?t(l):t!=null&&(t.current=l)}function rr(...t){return l=>t.forEach(u=>er(u,l))}function tr(...t){return v.useCallback(rr(...t),t)}const or=V.Ay.div`
  border-radius: 50%;
  width: 20px;
  height: 20px;
  margin-right: 10px;
  background-color: ${t=>t.color};
  border: 1px solid rgba(0, 0, 0, 0.1);
`,nr=(0,V.Ay)($e)`
  && {
    width: 100%;
    aspect-ratio: 1.5;
  }

  .react-colorful__pointer {
    width: ${({theme:t})=>t.spaces[3]};
    height: ${({theme:t})=>t.spaces[3]};
  }

  .react-colorful__saturation {
    border-radius: ${({theme:t})=>t.spaces[1]};
    border-bottom: none;
  }

  .react-colorful__hue {
    border-radius: 10px;
    height: ${({theme:t})=>t.spaces[3]};
    margin-top: ${({theme:t})=>t.spaces[2]};
  }
`,ar=(0,V.Ay)(be.S)`
  display: flex;
  justify-content: space-between;
  align-items: center;

  svg {
    width: ${({theme:t})=>t.spaces[2]};
    height: ${({theme:t})=>t.spaces[2]};
  }

  svg > path {
    fill: ${({theme:t})=>t.colors.neutral500};
    justify-self: flex-end;
  }
`,lr=(0,V.Ay)(xe.AM)`
  padding: ${({theme:t})=>t.spaces[2]};
  min-height: 270px;
`,ur=v.forwardRef(({attribute:t,description:l,disabled:u=!1,error:c,intlLabel:s,labelAction:i,name:f,onChange:d,required:g=!1,value:h=""},x)=>{const[y,N]=v.useState(!1),P=v.useRef(null),{formatMessage:j}=(0,_e.A)(),w=h||"#000000",H=E=>{E.preventDefault(),E.currentTarget.contains(E.relatedTarget)||N(!1)},p=tr(x,P);return(0,M.jsx)(Ce.D,{name:f,id:f,error:c,hint:l&&j(l),required:g,children:(0,M.jsxs)(G.s,{direction:"column",alignItems:"stretch",gap:1,children:[(0,M.jsx)(Ee.d,{action:i,children:j(s)}),(0,M.jsxs)(ar,{ref:p,"aria-label":j({id:(0,_.g)("color-picker.toggle.aria-label"),defaultMessage:"Color picker toggle"}),"aria-controls":"color-picker-value","aria-haspopup":"dialog","aria-expanded":y,"aria-disabled":u,disabled:u,onClick:()=>N(!y),children:[(0,M.jsxs)(G.s,{children:[(0,M.jsx)(or,{color:w}),(0,M.jsx)(re.o,{style:{textTransform:"uppercase"},textColor:h?void 0:"neutral600",variant:"omega",children:w})]}),(0,M.jsx)(we.A,{"aria-hidden":!0})]}),y&&(0,M.jsx)(lr,{onBlur:H,role:"dialog",source:P,spacing:4,children:(0,M.jsxs)(Me.s,{onEscape:()=>N(!1),children:[(0,M.jsx)(nr,{color:w,onChange:E=>d({target:{name:f,value:E,type:t.type}})}),(0,M.jsxs)(G.s,{paddingTop:3,paddingLeft:4,justifyContent:"flex-end",children:[(0,M.jsx)(He.a,{paddingRight:2,children:(0,M.jsx)(re.o,{variant:"omega",as:"label",textColor:"neutral600",children:j({id:(0,_.g)("color-picker.input.format"),defaultMessage:"HEX"})})}),(0,M.jsx)(ye.T,{id:"color-picker-value","aria-label":j({id:(0,_.g)("color-picker.input.aria-label"),defaultMessage:"Color picker input"}),style:{textTransform:"uppercase"},value:h,placeholder:"#000000",onChange:d})]})]})}),(0,M.jsx)(Ne.o,{}),(0,M.jsx)(je.b,{})]})})})}}]);
